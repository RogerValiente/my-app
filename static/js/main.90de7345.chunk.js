(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[0],{100:function(e,t,c){"use strict";c.r(t);var a=c(2),r=c(0),n=c.n(r),i=c(24),s=c.n(i),o=(c(86),c(11)),l=c(12),d=c.p+"static/media/logo.7e399cc0.png",j=c(16),b=c(78),h=c(14),m=c.p+"static/media/cart.f6cc872a.png",O=Object(r.createContext)();function x(e,t){var c=t.type,a=t.payload;switch(c){case"CARGAR_CARRITO":case"ELIMINAR_PRODUCTO":return localStorage.setItem("carrito",JSON.stringify(a)),Object(j.a)(Object(j.a)({},e),{},{carrito:a});case"ELIMINAR_TODO":return localStorage.removeItem("carrito"),Object(j.a)(Object(j.a)({},e),{},{carrito:[]});case"CARGAR_PRODUCTOS":return localStorage.setItem("productos",JSON.stringify(a)),Object(j.a)(Object(j.a)({},e),{},{productos:a});case"MODIFICAR_CANTIDAD":return localStorage.setItem("carrito",JSON.stringify(a)),Object(j.a)(Object(j.a)({},e),{},{carrito:a});case"FINALIZAR_COMPRA":return localStorage.removeItem("carrito"),Object(j.a)(Object(j.a)({},e),{},{carrito:[]});default:return Error("reducer error")}}var u=JSON.parse(window.localStorage.getItem("carrito")),p=JSON.parse(window.localStorage.getItem("productos")),g={carrito:u||[],productos:p||[]};function f(e){var t=Object(r.useReducer)(x,g);return Object(a.jsx)(O.Provider,{value:t,children:e.children})}var N=c(79);var v=function(){var e=Object(r.useContext)(O),t=Object(h.a)(e,2),c=t[0],n=t[1],i=c.carrito,s=Object(r.useState)(!1),l=Object(h.a)(s,2),d=l[0],x=l[1],u=Object(r.useRef)(null);return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("img",{src:m,alt:"...",width:"60",height:"60",ref:u,onClick:function(){return x(!d)}}),Object(a.jsx)("span",{className:"text-white",children:i.reduce((function(e,t){return e+t.cantidad}),0)}),Object(a.jsx)(N.a,{target:u.current,show:d,placement:"left",children:function(e){e.placement,e.arrowProps,e.show,e.popper;var t=Object(b.a)(e,["placement","arrowProps","show","popper"]);return Object(a.jsxs)("div",Object(j.a)(Object(j.a)({},t),{},{children:["",i&&i.length>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)("table",{className:"table bg-secondary",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{className:"text-center",children:[Object(a.jsx)("th",{children:"Imagen"}),Object(a.jsx)("th",{children:"Categoria"}),Object(a.jsx)("th",{children:"Producto"}),Object(a.jsx)("th",{children:"Cantidad"}),Object(a.jsx)("th",{children:"Precio"})]})}),i&&i.map((function(e){return Object(a.jsxs)("tr",{className:"text-center",children:[Object(a.jsxs)("th",{children:[" ",Object(a.jsx)("img",{src:e.item&&e.item.imagen,alt:"",width:"100",height:"80"})]}),Object(a.jsx)("th",{children:Object(a.jsx)("strong",{children:e.item&&e.item.categoria})}),Object(a.jsx)("th",{children:e.item&&e.item.nombre}),Object(a.jsx)("th",{children:e.cantidad}),Object(a.jsx)("th",{children:e.item.precio*e.cantidad}),Object(a.jsx)("th",{children:Object(a.jsx)("button",{className:"btn btn-dark",onClick:function(){return function(e){var t=i.filter((function(t){return t.item&&t.item.id!==e}));n({type:"ELIMINAR_PRODUCTO",payload:t})}(e.item&&e.item.id)},children:"X"})})]})})),Object(a.jsx)("tfoot",{children:Object(a.jsxs)("tr",{children:[Object(a.jsx)("td",{children:Object(a.jsx)(o.b,{to:"/carrito",className:"btn btn-dark",children:"Ir a comprar"})}),Object(a.jsxs)("td",{colSpan:"6",className:"text-right text-white",children:["Precio Total:"," ",i.reduce((function(e,t){return e+t.item.precio*t.cantidad}),0)]})]})})]}),Object(a.jsx)("br",{})]}):Object(a.jsxs)("div",{className:"bg-danger",children:[Object(a.jsx)("span",{className:"btn btn-red font-weight-bold col-7",children:"No hay productos"}),Object(a.jsx)(o.b,{to:"/catalog",className:"btn btn-dark ",children:"Ir al Catalogo"})]})]}))}})]})},C=(c(91),c(108)),y=c(109),w=c(107),I=c(106),A=c(77),k=c(76);var R=function(){return Object(a.jsx)("div",{children:Object(a.jsxs)(C.a,{className:"menu",variant:"dark",expand:"lg",children:[Object(a.jsx)(C.a.Brand,{children:Object(a.jsx)(o.b,{to:"/",className:"font-weight-bold",children:Object(a.jsx)("img",{src:d,alt:"...",width:"50",height:"50"})})}),Object(a.jsx)(C.a.Toggle,{"aria-controls":"basic-navbar-nav"}),Object(a.jsxs)(C.a.Collapse,{id:"basic-navbar-nav",children:[Object(a.jsxs)(y.a,{className:"mr-auto",children:[" ",Object(a.jsx)(y.a.Link,{children:Object(a.jsx)(o.b,{to:"/",className:"font-weight-bold",children:"Inicio"})}),Object(a.jsxs)(w.a,{title:"Productos",id:"basic-nav-dropdown",className:"font-weight-bold",children:[Object(a.jsx)(w.a.Item,{children:Object(a.jsx)(o.b,{to:"/catalog/pasteleria",className:"text-dark",children:"Pasteleria"})}),Object(a.jsx)(w.a.Item,{children:Object(a.jsx)(o.b,{to:"/catalog/postre",className:"text-dark",children:"Postres"})}),Object(a.jsx)(w.a.Item,{children:Object(a.jsx)(o.b,{to:"/catalog/detalle",className:"text-dark",children:"Detalles"})})]}),Object(a.jsx)(y.a.Link,{className:"font-weight-bold",children:"Nosotros"}),Object(a.jsx)(y.a.Link,{className:"font-weight-bold",children:"Contactenos"})]}),Object(a.jsxs)(I.a,{inline:!0,children:[Object(a.jsx)(A.a,{type:"text",placeholder:"Search",className:"mr-sm-2"}),Object(a.jsx)(k.a,{variant:"outline-success",children:"Search"})]})]}),Object(a.jsx)(v,{})]})})},P=c(73),S=(c(94),P.a.initializeApp({apiKey:"AIzaSyDbyVTI4QvaQ48dOc6gRxwbDtyyhnvSbIs",authDomain:"react-coderhouse-203e5.firebaseapp.com",projectId:"react-coderhouse-203e5",storageBucket:"react-coderhouse-203e5.appspot.com",messagingSenderId:"535408988548",appId:"1:535408988548:web:057b48622c78f7b28a8dd1",measurementId:"G-444ZYH9R2Q"})),F=function(){return P.a.firestore(S)},D=(c(96),function(e){var t=e.producto;return Object(a.jsx)("div",{id:"cardProducto",className:" card pb-5",style:{width:"18rem"},children:Object(a.jsxs)("div",{className:"card-body ",children:[Object(a.jsx)("img",{src:t.imagen,width:"240",height:"200",alt:"Pasteleria"}),Object(a.jsx)("h3",{className:"card-title text-center",children:t.nombre}),Object(a.jsx)("p",{className:"card-text",children:t.descripcion}),Object(a.jsxs)("p",{className:"font-weight-bold",children:["Precio: ",t.precio]}),Object(a.jsx)(o.b,{to:"/producto/".concat(t.categoria,"/").concat(t.id),className:"btn btn-dark btn-lg",children:"Ver mas"})]})})}),T=function(){var e=Object(r.useContext)(O),t=Object(h.a)(e,2),c=t[0],n=t[1],i=c.productos,s=Object(l.f)().categoria;return Object(r.useEffect)((function(){F().collection("Items").get().then((function(e){var t=e.docs.map((function(e){return e.data()}));s&&(t=t.filter((function(e){return e.categoria===s}))),n({type:"CARGAR_PRODUCTOS",payload:t})}))}),[s]),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h1",{children:"Nuestros Productos"}),Object(a.jsx)("div",{className:"container card-columns",children:i.map((function(e){return Object(a.jsx)(D,{producto:e},e.id)}))})]})},_=c(52),L=(c(97),function(e){var t=e.stock,c=e.initial,n=e.onAdd,i=e.id,s=e.label,l=void 0===s?"Agregar al carrito":s,d=Object(r.useState)(c),j=Object(h.a)(d,2),b=j[0],m=j[1],O=Object(r.useState)(!1),x=Object(h.a)(O,2),u=x[0],p=x[1];return Object(a.jsx)("div",{children:u?Object(a.jsx)(o.b,{to:"/carrito",className:"btn btn-dark",children:"ir al carrito"}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("button",{className:"btn btn-dark ".concat(1===b?"disabled":""),onClick:function(){return e=b-1,void(b<=1?alert("No se puede menos de esta cantidad"):m(e));var e},children:"-"}),Object(a.jsx)("p",{className:"d-inline-flex p-3",children:b}),Object(a.jsx)("button",{className:"btn btn-dark ".concat(b===t?"disabled":""),onClick:function(){return e=b+1,void(b!==t?m(e):alert("No se puede superar esta cantidad"));var e},children:"+"}),Object(a.jsx)("button",{className:"ml-5 btn btn-dark",onClick:function(){return function(e){n(b,e),p(!0)}(i)},children:l})]})})}),E=(c(98),function(e){var t=e.product,c=Object(r.useContext)(O),n=Object(h.a)(c,2),i=n[0],s=n[1],l=i.carrito,d=i.productos,j=t.id,b=t.nombre,m=t.imagen,x=t.ingredientes,u=t.descripcion,p=t.receta,g=t.precio,f=t.stock,N=t.detalle;return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"container mb-5 pt-5 btnVolver",children:Object(a.jsx)(o.b,{to:"/catalog",className:" btn btn-dark position-fixed",children:"volver"})}),Object(a.jsx)("h1",{children:b}),Object(a.jsx)("div",{className:"container mb-5",children:Object(a.jsx)("div",{className:"card  bg-danger",children:Object(a.jsxs)("div",{className:"card-body",children:[Object(a.jsx)("img",{className:"card-img-top ",style:{borderRadius:"7px",objectFit:"contain"},src:m,width:"220",height:"300",alt:"Pasteleria"}),Object(a.jsx)("h3",{className:"card-title text-center text-white",children:b}),Object(a.jsx)("p",{className:"card-text text-white",children:u}),Object(a.jsxs)("p",{className:"card-text text-white",children:["Ingredientes: ",x]}),Object(a.jsx)("h3",{className:"card-title text-center text-white",children:p}),Object(a.jsxs)("p",{className:"font-weight-bold text-white",children:["Precio: ",g]}),Object(a.jsxs)("p",{className:"font-weight-bold text-white",children:["Stock: ",f]}),Object(a.jsxs)("div",{children:[Object(a.jsx)("h3",{className:"card-title text-center text-white",children:"CAJA MAS DETALLE"}),Object(a.jsx)("img",{className:"card-img-top",style:{borderRadius:"7px",objectFit:"contain"},src:N,width:"220",height:"300",alt:"Pasteleria"})]}),Object(a.jsx)("div",{className:"card-body",children:Object(a.jsx)(L,{label:"comprar",stock:5,initial:1,onAdd:function(e,t){var c=l.filter((function(e){return e.item.id===t}));if(c.length>0){c[0].cantidad=e+c[0].cantidad;var a=l.findIndex((function(e){return e.item.id===t}));l.splice.apply(l,[a,1].concat(Object(_.a)(c))),s({type:"CARGAR_CARRITO",payload:l})}else{var r=d.filter((function(e){return e.id===t}));s({type:"CARGAR_CARRITO",payload:[].concat(Object(_.a)(l),[{item:r[0],cantidad:e}])})}},id:j})})]})})},j)]})}),M=function(){var e=Object(l.f)().id,t=Object(r.useContext)(O),c=Object(h.a)(t,2),n=c[0],i=(c[1],n.productos);return Object(a.jsx)(a.Fragment,{children:i.filter((function(t){return t.id===e})).map((function(e){return Object(a.jsx)(E,{product:e},e.id)}))})},B=c(32),G=c(105),J=function(e){var t=e.idCompra;return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"container checkout text-center",children:[Object(a.jsx)("h3",{children:"Gracias por tu compra!"}),Object(a.jsx)("h5",{className:"py-4",children:"Tu compra fue procesada con \xe9xito."}),Object(a.jsxs)("div",{className:"btn btn-outline-dark",children:["Tu c\xf3digo de compra es: ",Object(a.jsx)("strong",{children:t})]})]})})},V=function(){var e=Object(r.useContext)(O),t=Object(h.a)(e,2),c=t[0],n=t[1],i=c.carrito,s=Object(r.useState)(!0),o=Object(h.a)(s,2),l=o[0],d=o[1],b=Object(r.useState)(),m=Object(h.a)(b,2),x=m[0],u=m[1];console.log(i);var p=Object(r.useState)(!1),g=Object(h.a)(p,2),f=g[0],N=g[1],v=Object(r.useState)({nombre:"",apellido:"",email:"",phone:"",direccion:"",tarjeta:"",nombreTarjeta:"",vencimiento:"",cvv:""}),C=Object(h.a)(v,2),y=C[0],w=C[1],I=function(e){w(Object(j.a)(Object(j.a)({},y),{},Object(B.a)({},e.target.name,e.target.value)))};return Object(a.jsx)(a.Fragment,{children:Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(k.a,{variant:"primary",onClick:function(){return N(!0)},children:"Procesar Compra"}),Object(a.jsxs)(G.a,{show:f,onHide:function(){return N(!1)},children:[Object(a.jsx)(G.a.Header,{closeButton:!0}),Object(a.jsx)(G.a.Title,{className:"text-center",children:"Datos del cliente"}),Object(a.jsx)(G.a.Body,{children:Object(a.jsx)("div",{className:"container",children:Object(a.jsx)("div",{className:"row",children:Object(a.jsxs)("form",{className:"form-inline",onSubmit:function(e){if(d(!1),e.preventDefault(),""!==y.nombre&&""!==y.apellido)if(""!==y.email&&""!==y.phone){var t={buyer:{nombre:y.nombre,apellido:y.apellido,email:y.email,telefono:y.phone,direccion:y.direccion},items:Object(_.a)(i),total:i.reduce((function(e,t){return e+t.item.precio*t.cantidad}),0),date:new Date};F().collection("ordenes").add(t).then((function(e){var t=e.id;u(t)})),n({item:[],cantidad:0})}else alert("Por favor llenar todo los campos");else alert("Por favor llenar todo los campos")},children:[Object(a.jsx)("div",{className:"form-group p-1",children:Object(a.jsx)("input",{type:"text",className:"form-control ",placeholder:"Nombre",name:"nombre",onChange:I})}),Object(a.jsx)("div",{className:"form-group ml-2 p-1",children:Object(a.jsx)("input",{type:"text",className:"form-control ",placeholder:"Apellido",name:"apellido",onChange:I})}),Object(a.jsx)("div",{className:"form-group p-1",children:Object(a.jsx)("input",{type:"email",placeholder:"Email",className:"form-control",name:"email",onChange:I})}),Object(a.jsx)("div",{className:"form-group ml-2 p-1",children:Object(a.jsx)("input",{name:"phone",type:"number",placeholder:"Phone",className:"form-control",onChange:I})}),Object(a.jsx)("div",{className:"form-group p-1",children:Object(a.jsx)("input",{type:"text",className:"form-control",name:"direccion",placeholder:"Direcci\xf3n",onChange:I})}),Object(a.jsxs)("div",{className:"form-group p-1",children:[Object(a.jsx)("label",{for:"state_id",className:"control-label ml-3",children:"Barrio"}),Object(a.jsxs)("select",{className:"form-control ml-2",id:"state_id",children:[Object(a.jsx)("option",{children:"Seleccionar"}),Object(a.jsx)("option",{children:"Medellin"}),Object(a.jsx)("option",{children:"Bello"}),Object(a.jsx)("option",{children:"Centro"}),Object(a.jsx)("option",{children:"Evigado"}),Object(a.jsx)("option",{children:"Itagui"}),Object(a.jsx)("option",{children:"Guayabal"}),Object(a.jsx)("option",{children:"Sabaneta"})]})]}),Object(a.jsx)("div",{className:"card-header col",children:Object(a.jsx)("h5",{className:"text-center",children:"Datos de la tarjeta"})}),Object(a.jsxs)("div",{className:"form-row pt-3",children:[Object(a.jsxs)("div",{className:"col-md-6 col-sm-12 form-group px-2",children:[Object(a.jsx)("label",{htmlFor:"",children:"Nombre del titular"}),Object(a.jsx)("input",{type:"text",value:FormData.nombreTarjeta,onChange:I,className:"form-control",placeholder:"Como aparece en la tarjeta",name:"nombreTarjeta"})]}),Object(a.jsxs)("div",{className:"col-md-6 col-sm-12 form-group px-2",children:[Object(a.jsx)("label",{htmlFor:"",children:"N\xfamero de tarjeta"}),Object(a.jsx)("input",{type:"number",value:FormData.tarjeta,onChange:I,className:"form-control",name:"tarjeta"})]})]}),Object(a.jsxs)("div",{className:"form-row pb-3",children:[Object(a.jsxs)("div",{className:"col-md-6 col-sm-12 form-group px-2",children:[Object(a.jsx)("label",{htmlFor:"",children:"Fecha de vencimiento"}),Object(a.jsx)("input",{type:"text",value:FormData.vencimiento,onChange:I,className:"form-control",placeholder:"MM/AA",name:"vencimiento"})]}),Object(a.jsxs)("div",{className:"col-md-6 col-sm-12 form-group px-2",children:[Object(a.jsx)("label",{htmlFor:"",children:"C\xf3digo de seguridad"}),Object(a.jsx)("input",{type:"number",value:FormData.cvv,onChange:I,className:"form-control",placeholder:"CVV",name:"cvv"})]})]}),Object(a.jsx)("br",{}),Object(a.jsxs)("h4",{className:"text-center col",children:["Pago total:"," ",i.reduce((function(e,t){return e+t.item.precio*t.cantidad}),0)]}),l?Object(a.jsx)("div",{className:"col-med-3",id:"pagar",children:Object(a.jsx)("button",{className:"btn btn-danger",type:"submit",disabled:""===y.nombre?"disabled":null,children:"Pagar"})}):Object(a.jsxs)("div",{children:[Object(a.jsx)(J,{idCompra:x}),Object(a.jsx)(G.a.Footer,{children:Object(a.jsx)(k.a,{variant:"secondary",onClick:function(){n({type:"FINALIZAR_COMPRA"})},children:"Finalizar"})})]})]})})})})]})]})})},U=function(){var e=Object(r.useContext)(O),t=Object(h.a)(e,2),c=t[0],n=t[1],i=c.carrito;return Object(a.jsx)("div",{className:"container",children:i&&i.length>0?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("h2",{children:" Productos seleccionados son:"}),Object(a.jsxs)("table",{className:"table bg-info",children:[Object(a.jsx)("thead",{children:Object(a.jsxs)("tr",{className:"text-center",children:[Object(a.jsx)("th",{children:"Imagen"}),Object(a.jsx)("th",{children:"Categoria"}),Object(a.jsx)("th",{children:"Producto"}),Object(a.jsx)("th",{children:"Cantidad"}),Object(a.jsx)("th",{children:"Precio Unidad"}),Object(a.jsx)("th",{children:"Precio"}),Object(a.jsx)("th",{})]})}),i&&i.map((function(e){return Object(a.jsxs)("tr",{className:"text-center",children:[Object(a.jsxs)("th",{children:[" ",Object(a.jsx)("img",{src:e.item&&e.item.imagen,alt:"",width:"150",height:"120"})]}),Object(a.jsx)("th",{children:Object(a.jsx)("strong",{children:e.item&&e.item.categoria})}),Object(a.jsx)("th",{children:e.item&&e.item.nombre}),Object(a.jsxs)("th",{children:[e.cantidad," "]}),Object(a.jsx)("th",{children:e.item.precio}),Object(a.jsx)("th",{children:e.item.precio*e.cantidad}),Object(a.jsx)("th",{children:Object(a.jsx)("button",{className:"btn btn-dark",onClick:function(){return function(e){var t=i.filter((function(t){return t.item&&t.item.id!==e}));n({type:"ELIMINAR_PRODUCTO",payload:t})}(e.item&&e.item.id)},children:"Eliminar"})})]})})),Object(a.jsx)("tfoot",{children:Object(a.jsx)("tr",{className:"text-white bg-dark",children:Object(a.jsxs)("td",{colSpan:"7",className:"text-right",children:["Precio Total:"," ",i.reduce((function(e,t){return e+t.item.precio*t.cantidad}),0)]})})})]}),Object(a.jsx)("button",{className:"btn btn-success ",onClick:function(){n({type:"ELIMINAR_TODO"})},children:"Vaciar Carrito"}),Object(a.jsx)(o.b,{to:"/catalog",className:" btn btn-primary position-fixed ml-3",children:"Seguir Comprando"}),Object(a.jsx)("div",{className:"row",children:Object(a.jsx)(V,{})})]}):Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)("div",{className:"container mb-5 pt-5 btnVolver",children:Object(a.jsx)(o.b,{to:"/catalog",className:" btn btn-dark position-fixed",children:"Ver Catalogo"})}),Object(a.jsx)("h1",{className:"text-center display-3",children:"No hay productos"})]})})};var z=function(){return Object(a.jsx)(f,{children:Object(a.jsxs)(o.a,{children:[Object(a.jsx)(R,{}),Object(a.jsxs)(l.c,{children:[Object(a.jsx)(l.a,{path:"/producto/:categoria/:id",children:Object(a.jsx)(M,{})}),Object(a.jsx)(l.a,{path:"/producto/:id",children:Object(a.jsx)(M,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/carrito",children:Object(a.jsx)(U,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/catalog/:categoria",children:Object(a.jsx)(T,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/catalog",children:Object(a.jsx)(T,{})}),Object(a.jsx)(l.a,{exact:!0,path:"/",children:Object(a.jsx)(T,{})})]})]})})},H=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,110)).then((function(t){var c=t.getCLS,a=t.getFID,r=t.getFCP,n=t.getLCP,i=t.getTTFB;c(e),a(e),r(e),n(e),i(e)}))};c(99);s.a.render(Object(a.jsx)(n.a.StrictMode,{children:Object(a.jsx)(z,{})}),document.getElementById("root")),H()},86:function(e,t,c){},91:function(e,t,c){},96:function(e,t,c){},97:function(e,t,c){},98:function(e,t,c){}},[[100,1,2]]]);
//# sourceMappingURL=main.90de7345.chunk.js.map